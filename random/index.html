<meta name=description content="Generate random text consisting of the lowercase alphabet with no duplicate characters.">
<link rel=icon href=/favicon.png>
<link rel=stylesheet href=/style.css>
<title>Random Text Generator</title>
<style>
input {
  padding-bottom: 2;
  padding-top: 2;
}
input::-webkit-inner-spin-button {  
  display: none;
}
li {
  margin-bottom: 5;
}
</style>
<ul>
  <li>Lowercase alphabet
  <li>No duplicate characters
</ul>
<input class=float max=26 min=1 required style="font-size: 14; margin-right: 5; padding: 3 5; width: 29" type=number value=1>
<button>Generate</button>
<p style=margin-top:10>
<script>
const alphabet = "abcdefghijklmnopqrstuvwxyz",
      generate = document.querySelector("button");

document.querySelector("input").addEventListener("input", function() {
  generate.disabled = (this.validity.valid ? false : true);
});

generate.onclick = function() {
  const length = document.querySelector("input").value,
        buffer_len = length-1;
  var buffer = "",
      charset = alphabet;
  for (let i = 0; i < buffer_len; i++) {
    while (true) {
      let pos = Math.floor(Math.random() * charset.length),
          strNewTmp = charset.substring(pos, pos+1),
          tmp = buffer.indexOf(strNewTmp);
      if (tmp == -1) {
        buffer += strNewTmp;
        break;
      }
      else
        charset = charset.replace(strNewTmp, "");
    }
  }
  charset = alphabet;
  while (true) {
    let pos = Math.floor(Math.random() * charset.length),
        new_tmp = charset.substring(pos, pos+1),
        tmp = buffer.indexOf(new_tmp);
    if (tmp == -1) {
      const insert_pos = Math.floor(Math.random() * buffer_len);
      var result = buffer.substring(0, insert_pos) + new_tmp + buffer.substring(insert_pos, buffer_len);
      break;
    }
    else
      charset = charset.replace(new_tmp, "");
  }
  document.querySelector("p").innerHTML = result;
}
</script>